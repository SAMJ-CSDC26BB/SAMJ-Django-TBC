{% extends "layout.html" %}
{% load static %}

{% block title %}SAMJ Index Page{% endblock %}

{% block style %}
<!-- Add any custom styles if needed -->
{% endblock %}

{% block body %}
<div class="container px-4 py-5" id="custom-cards">
    <h2 class="mb-4">Call Forwarding Table</h2>
    <div class="dataTable-container table-responsive">
        <table id="tbcTable" class="table table-striped table-bordered">
            <thead>
            <tr>
                <th>Called Number</th>
                <th>Destination</th>
                <th>Start Date</th>
                <th>End Date</th>
            </tr>
            </thead>
            <tbody class="uiTbcBody">
            {% for cf in call_forwardings %}
            <tr>
                <td>{{ cf.calledNumber.number }}</td>
                <td>{{ cf.destination.number }}</td>
                <td>{{ cf.startDate }}</td>
                <td>{{ cf.endDate }}</td>
            </tr>
            {% endfor %}
            </tbody>
        </table>
    </div>

    <div class="d-flex justify-content-center">
        <button class="btn btn-outline-secondary create-tbcEntry-btn" data-bs-target="#editCreateTBCModal" data-bs-toggle="modal">Create</button>
    </div>
</div>

{% block script %}
<script type="module" src="{% static 'js/tbc.js' %}"></script>
{% endblock %}

<!-- Include the partial template for the modal form -->
{% include './components/call_forwarding_form.html' %}

<!-- Include the delete modal if it exists -->
{% include './components/delete_tbcEntry_modal.html' %}
{% endblock %}
